<html>
<meta charset="UTF-8">
<head>
  <title id="title">新增客戶資訊</title>
</head>
<body>
    <div id="div">
      <label>電話：</label><input type="text" id="phone" name="phone" placeholder="輸入電話" /><br />
      <label>姓名：</label><input type="text" id="name" name="name" placeholder="輸入姓名" /><br />
	  <label>地址：</label><input type="text" id="addr" name="address" placeholder="輸入地址" /><br />
	<button id="btn">確定</button><br/>
	</div>
	
	<button id="show" onclick="return show_click()">顯示客戶資訊</button>
	<table id="data" style="display:none">
	  <tr><td>電話</td><td>姓名</td><td>地址</td></tr>
	  <tr>
	    <td id="tPhone"></td>
	    <td id="tName"></td>
	    <td id="tAddr"></td>
	  </tr>
	</table>

    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script>		 
		
		//電話欄位只能輸入數字
        $("#phone").blur(function(){
		  if($(this).val()!=""){
	        if(/[^\d]/.test($(this).val()))	//正規表示式=> /[^\d]/ 表示非數字
		    {
			  /*var temp=$(this).val().replace(/[^\d]/g,"");
			  $(this).val(temp);*/
			  $(this).val("");
			  alert("只限數字");
		}}});
		
		//姓名不能輸入超過4個字元
		$("#name").blur(function(){
		  if($(this).val()!=""){
		    if($(this).val().length>4)
		    {
			  $(this).val("");
			  alert("不超過4個字");
		}}});
		
		//不正確的住址
		$("#addr").blur(function(){
		  if($(this).val()!=""){
		    if($(this).val().indexOf("市")<0 && $(this).val().indexOf("縣")<0)
		    {
		      $(this).val("");
			  alert("地址格式錯誤");
		}}});
		
		//欄位必填
		$("#btn").click(function(){
	      if($("#phone").val()==""){
   	        alert("尚未填寫電話");
		  }else {
		    if($("#name").val()==""){
	          alert("尚未填寫姓名");
		    }else{
			  if($("#addr").val()==""){
		  	    alert("尚未填寫地址");
		}}};
		  
		  //電話、姓名、地址都有值才能建立資料
		  if($("#phone").val()!="" && $("#name").val()!="" && $("#addr").val()!=""){
		    $("#tPhone").text($("#phone").val());
		    $("#tName").text($("#name").val());
		    $("#tAddr").text($("#addr").val());
		    alert("資料建立");
		  }
		});
		
		//顯示客戶資訊 && 隱藏輸入窗
		function show_click(){
          /*if($("#tPhone").val()==""){ 
		    alert("資料未建立");}
		  else{  error*/  
			//顯示隱藏輸客戶資訊
			if (document.getElementById("data").style.display == '') {
              document.getElementById("data").style.display = 'none';
            }
            else {
              document.getElementById("data").style.display = '';
            }
			
			//顯示隱藏輸入窗
			if(document.getElementById("div").style.display==''){
			  document.getElementById("div").style.display = 'none';
			}
			else{
			  document.getElementById("div").style.display = '';
			}
			
			document.getElementById("show").style.display = 'none';//隱藏按鈕
			alert("顯示客戶資訊");
			$("#title").text("客戶資訊");
		  //error}
        };
		
    </script>
  </body>
</html>
